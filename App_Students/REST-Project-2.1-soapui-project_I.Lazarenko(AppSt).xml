<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="7fe5c3fd-1081-4eda-95fb-0ae90557cd89" activeEnvironment="Default" name="REST Project 2" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="4eff2ab0-057f-44cd-9a7f-de6405141ec6" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://soft.it-hillel.com.ua:3000" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint></con:endpoints><con:resource name="Users" path="/api/users/" id="467abeb7-6d6a-4d35-993b-94c1040fc682"><con:settings/><con:parameters/><con:method name="Create" id="617e526f-0868-46e6-9151-e61bd9d2d619" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="http://soft.it-hillel.com.ua/api/users">user:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="787b8a06-4c09-4251-b4c3-a54112feb47f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:originalUri>http://soft.it-hillel.com.ua/api/users</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method><con:method name="Getlist" id="a27b7897-a6c9-4e5e-b27a-cbc4919c82bf" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="8e657bbd-537c-436b-888c-680651bdbe9e" mediaType="application/json"><con:settings/><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="3" path="/api/users/{userid}" id="dcde94be-7775-479b-9b35-74d8da735ebb"><con:settings/><con:parameters><con:parameter><con:name>userid</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="Upd" id="4acac1f2-351f-4620-8390-652d95ee87ab" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="5b0632f4-0561-4113-ad1e-329598597363" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request>{"id":6,"name":"QA1111","phone":"0960000000","role":"Student","strikes":"1","location":""}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>userid</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="{userid}" path="/api/users/{userid}" id="4e7efba8-cf18-43d8-ba90-ad23a26ba04b"><con:settings/><con:parameters><con:parameter><con:name>userid</con:name><con:style>TEMPLATE</con:style></con:parameter></con:parameters><con:method name="Del" id="82f15d25-492d-4435-bff6-f25eae0b2ab3" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Del" id="677893d2-029f-4e3f-979c-0b6e7a1d4068" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>userid</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="1ed0be29-61cd-4d75-963a-edd051c009d1" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="014e271f-fbed-4496-b478-5f3f64e3282e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Users" searchProperties="true"><con:settings/><con:testStep type="properties" name="Properties" id="685dcba6-c693-47b8-bb89-7b8c97893753"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>name</con:name><con:value>QA1</con:value></con:property><con:property><con:name>phone</con:name><con:value>0960000000</con:value></con:property><con:property><con:name>role</con:name><con:value>Student</con:value></con:property><con:property><con:name>new_name</con:name><con:value>QA1111</con:value></con:property><con:property><con:name>new_phone</con:name><con:value>09600000001</con:value></con:property><con:property><con:name>new_role</con:name><con:value>Student</con:value></con:property><con:property><con:name>strikes</con:name><con:value>3</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Create user" id="7bd468a7-730f-4459-ac63-33cb2fc8d1a8"><con:settings/><con:config service="http://soft.it-hillel.com.ua:3000" resourcePath="/api/users/" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create user" id="787b8a06-4c09-4251-b4c3-a54112feb47f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request>{"name":"${Properties#name}","phone":"${Properties#phone}","role":"${Properties#role}"}</con:request><con:originalUri>http://soft.it-hillel.com.ua/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="56aee1b4-5f04-43d2-afc6-0d09ee70e812" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="e526eeff-e8d0-40b5-9b05-dbe16a7fdf78" name="JsonPath Count"><con:configuration><path>id</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="c4bb37a8-adbb-40f0-89bf-0c6521fa9489"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>1</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Create user</con:sourceStep><con:sourcePath>id</con:sourcePath><con:targetType>_id</con:targetType><con:targetStep>temp</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="temp" id="b02cfbf6-28d6-439a-88c6-8307a00e0206"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>_id</con:name><con:value>18</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Upd user" id="6ecabd61-b1b4-4e94-ac80-f4dd56b8a16b"><con:settings/><con:config service="http://soft.it-hillel.com.ua:3000" resourcePath="/api/users/{userid}" methodName="Upd" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Upd user" id="5b0632f4-0561-4113-ad1e-329598597363" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request>{"id":${temp#_id},"name":"${Properties#new_name}","phone":"${Properties#new_phone}","role":"${Properties#new_role}","strikes":"${Properties#strikes}","location":""}</con:request><con:originalUri>http://soft.it-hillel.com.ua/api/users/6</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="67f168a4-d02c-4ccc-b6c7-22f47c7d5737" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>userid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Getlist" id="1f0d2e37-78f0-4e2b-ae4a-b1937622e0b0"><con:settings/><con:config service="http://soft.it-hillel.com.ua:3000" resourcePath="/api/users/" methodName="Getlist" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Getlist" id="8e657bbd-537c-436b-888c-680651bdbe9e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:originalUri>http://soft.it-hillel.com.ua/api/users/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5b6cdf4c-5eaf-4791-9a9e-08ca2432f43b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Delete user" id="b024b0d7-bf50-4779-b777-8a04e642d912" disabled="true"><con:settings/><con:config><script>import groovy.json.JsonSlurper

tempUsers=testRunner.testCase.getTestStepByName("Getlist").getPropertyValue("response")
username=testRunner.testCase.getTestStepByName("Properties").getPropertyValue("new_name")
parsedUsers= new JsonSlurper().parseText(tempUsers)

parsedUsers.each() {
	if (it.name==username){
		testRunner.testCase.getTestStepByName("Del user").setPropertyValue("userid", it._id )
		testRunner.testCase.getTestStepByName("Del user").run(testRunner, context)
		
}
}
</script></con:config></con:testStep><con:testStep type="restrequest" name="Del user" id="51fe76a9-d18e-4703-8397-23513251e838" disabled="true"><con:settings/><con:config service="http://soft.it-hillel.com.ua:3000" resourcePath="/api/users/{userid}" methodName="Del" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Del user" id="677893d2-029f-4e3f-979c-0b6e7a1d4068" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:originalUri>http://soft.it-hillel.com.ua/api/users/6</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="96a7c24d-efcf-4042-935d-4fee68069f6d" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>userid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Delete all users" id="8b458918-4251-424b-94eb-0b71085c72fc"><con:settings/><con:config><script>import groovy.json.JsonSlurper

tempUsers=testRunner.testCase.getTestStepByName("Getlist").getPropertyValue("response")

parsedUsers= new JsonSlurper().parseText(tempUsers)

parsedUsers.each() {

		testRunner.testCase.getTestStepByName("Del all").setPropertyValue("userid", "$it.id" )
		testRunner.testCase.getTestStepByName("Del all").run(testRunner, context)
		
}
</script></con:config></con:testStep><con:testStep type="restrequest" name="Del all" id="617144b1-cd5b-4271-9d0c-99c7da37af67" disabled="true"><con:settings/><con:config service="http://soft.it-hillel.com.ua:3000" resourcePath="/api/users/{userid}" methodName="Del" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Del all" id="677893d2-029f-4e3f-979c-0b6e7a1d4068" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://soft.it-hillel.com.ua:3000</con:endpoint><con:request/><con:originalUri>http://soft.it-hillel.com.ua/api/users/id</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="userid" value="18" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>userid</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>